<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-cn" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.115.1">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>JWT | x-windy</title>
<meta name="description" content="JWT(JSON Web Token) JSON Web Tokens - jwt.io
JWT是一种加密后的数据载体，可在各应用之间进行数据传输
Token(令牌)
Token的目的是为了减轻服务器的压力，减少频繁的查询数据库，使服务器更加健壮。
什么是 JSON Web Token？ JSON Web Token（JWT） 是一种开放标准 （RFC 7519），它定义了一种紧凑且独立的方式，用于在各方之间以 JSON 对象的形式安全地传输信息。此信息可以验证和信任，因为它是经过数字签名的。JWT 可以使用密钥（使用 HMAC 算法）或使用 RSA 或 ECDSA 的公钥/私钥对进行签名。
JWT涵盖用户身份信息，每次访问时，服务器校验信息合法性
何时应使用 JSON Web Token？ 以下是 JSON Web Token有用的一些方案：
授权：这是使用 JWT 的最常见方案。用户登录后，每个后续请求都将包含 JWT，允许用户访问使用该令牌允许的路由、服务和资源。单点登录是当今广泛使用 JWT 的一项功能，因为它的开销很小，并且能够跨不同域轻松使用。 信息交换： JSON Web Token是在各方之间安全传输信息的好方法。由于 JWT 可以签名（例如，使用公钥/私钥对），因此您可以确定发件人是他们所说的人。此外，由于签名是使用标头和有效负载计算的，因此您还可以验证内容是否未被篡改。 JSON Web Token结构 一个JWT通常有HEADER(头)，PAYLOAD(有效载荷)和SIGNATURE(签名)三部分组成，之间通过.连接
Header	头(算法和令牌类型) Payload 有效载荷(数据) Signature 签名 Header.Payload.Signaturexxxxx.yyyyy.zzzzz eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
Header 头 JWT的头部包含两部分的信息：
令牌的类型（即 JWT） 使用的加密算法，例如 HMAC SHA256 (默认HS256)或 RSA。 { &amp;#34;alg&amp;#34;: &amp;#34;HS256&amp;#34;, &amp;#34;typ&amp;#34;: &amp;#34;JWT&amp;#34; } alg：表示签名的算法">
<meta property="og:title" content="JWT" />
<meta property="og:description" content="JWT(JSON Web Token) JSON Web Tokens - jwt.io
JWT是一种加密后的数据载体，可在各应用之间进行数据传输
Token(令牌)
Token的目的是为了减轻服务器的压力，减少频繁的查询数据库，使服务器更加健壮。
什么是 JSON Web Token？ JSON Web Token（JWT） 是一种开放标准 （RFC 7519），它定义了一种紧凑且独立的方式，用于在各方之间以 JSON 对象的形式安全地传输信息。此信息可以验证和信任，因为它是经过数字签名的。JWT 可以使用密钥（使用 HMAC 算法）或使用 RSA 或 ECDSA 的公钥/私钥对进行签名。
JWT涵盖用户身份信息，每次访问时，服务器校验信息合法性
何时应使用 JSON Web Token？ 以下是 JSON Web Token有用的一些方案：
授权：这是使用 JWT 的最常见方案。用户登录后，每个后续请求都将包含 JWT，允许用户访问使用该令牌允许的路由、服务和资源。单点登录是当今广泛使用 JWT 的一项功能，因为它的开销很小，并且能够跨不同域轻松使用。 信息交换： JSON Web Token是在各方之间安全传输信息的好方法。由于 JWT 可以签名（例如，使用公钥/私钥对），因此您可以确定发件人是他们所说的人。此外，由于签名是使用标头和有效负载计算的，因此您还可以验证内容是否未被篡改。 JSON Web Token结构 一个JWT通常有HEADER(头)，PAYLOAD(有效载荷)和SIGNATURE(签名)三部分组成，之间通过.连接
Header	头(算法和令牌类型) Payload 有效载荷(数据) Signature 签名 Header.Payload.Signaturexxxxx.yyyyy.zzzzz eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
Header 头 JWT的头部包含两部分的信息：
令牌的类型（即 JWT） 使用的加密算法，例如 HMAC SHA256 (默认HS256)或 RSA。 { &#34;alg&#34;: &#34;HS256&#34;, &#34;typ&#34;: &#34;JWT&#34; } alg：表示签名的算法" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://x-windy.github.io/blog/1/01/01/jwt/" /><meta property="article:section" content="blog" />


<meta itemprop="name" content="JWT">
<meta itemprop="description" content="JWT(JSON Web Token) JSON Web Tokens - jwt.io
JWT是一种加密后的数据载体，可在各应用之间进行数据传输
Token(令牌)
Token的目的是为了减轻服务器的压力，减少频繁的查询数据库，使服务器更加健壮。
什么是 JSON Web Token？ JSON Web Token（JWT） 是一种开放标准 （RFC 7519），它定义了一种紧凑且独立的方式，用于在各方之间以 JSON 对象的形式安全地传输信息。此信息可以验证和信任，因为它是经过数字签名的。JWT 可以使用密钥（使用 HMAC 算法）或使用 RSA 或 ECDSA 的公钥/私钥对进行签名。
JWT涵盖用户身份信息，每次访问时，服务器校验信息合法性
何时应使用 JSON Web Token？ 以下是 JSON Web Token有用的一些方案：
授权：这是使用 JWT 的最常见方案。用户登录后，每个后续请求都将包含 JWT，允许用户访问使用该令牌允许的路由、服务和资源。单点登录是当今广泛使用 JWT 的一项功能，因为它的开销很小，并且能够跨不同域轻松使用。 信息交换： JSON Web Token是在各方之间安全传输信息的好方法。由于 JWT 可以签名（例如，使用公钥/私钥对），因此您可以确定发件人是他们所说的人。此外，由于签名是使用标头和有效负载计算的，因此您还可以验证内容是否未被篡改。 JSON Web Token结构 一个JWT通常有HEADER(头)，PAYLOAD(有效载荷)和SIGNATURE(签名)三部分组成，之间通过.连接
Header	头(算法和令牌类型) Payload 有效载荷(数据) Signature 签名 Header.Payload.Signaturexxxxx.yyyyy.zzzzz eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
Header 头 JWT的头部包含两部分的信息：
令牌的类型（即 JWT） 使用的加密算法，例如 HMAC SHA256 (默认HS256)或 RSA。 { &#34;alg&#34;: &#34;HS256&#34;, &#34;typ&#34;: &#34;JWT&#34; } alg：表示签名的算法">

<meta itemprop="wordCount" content="550">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="JWT"/>
<meta name="twitter:description" content="JWT(JSON Web Token) JSON Web Tokens - jwt.io
JWT是一种加密后的数据载体，可在各应用之间进行数据传输
Token(令牌)
Token的目的是为了减轻服务器的压力，减少频繁的查询数据库，使服务器更加健壮。
什么是 JSON Web Token？ JSON Web Token（JWT） 是一种开放标准 （RFC 7519），它定义了一种紧凑且独立的方式，用于在各方之间以 JSON 对象的形式安全地传输信息。此信息可以验证和信任，因为它是经过数字签名的。JWT 可以使用密钥（使用 HMAC 算法）或使用 RSA 或 ECDSA 的公钥/私钥对进行签名。
JWT涵盖用户身份信息，每次访问时，服务器校验信息合法性
何时应使用 JSON Web Token？ 以下是 JSON Web Token有用的一些方案：
授权：这是使用 JWT 的最常见方案。用户登录后，每个后续请求都将包含 JWT，允许用户访问使用该令牌允许的路由、服务和资源。单点登录是当今广泛使用 JWT 的一项功能，因为它的开销很小，并且能够跨不同域轻松使用。 信息交换： JSON Web Token是在各方之间安全传输信息的好方法。由于 JWT 可以签名（例如，使用公钥/私钥对），因此您可以确定发件人是他们所说的人。此外，由于签名是使用标头和有效负载计算的，因此您还可以验证内容是否未被篡改。 JSON Web Token结构 一个JWT通常有HEADER(头)，PAYLOAD(有效载荷)和SIGNATURE(签名)三部分组成，之间通过.连接
Header	头(算法和令牌类型) Payload 有效载荷(数据) Signature 签名 Header.Payload.Signaturexxxxx.yyyyy.zzzzz eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
Header 头 JWT的头部包含两部分的信息：
令牌的类型（即 JWT） 使用的加密算法，例如 HMAC SHA256 (默认HS256)或 RSA。 { &#34;alg&#34;: &#34;HS256&#34;, &#34;typ&#34;: &#34;JWT&#34; } alg：表示签名的算法"/>




<link rel="preload" href="/scss/main.min.6176d7d472a139a502a7c863de9bb7b87ef1ec9c271ff8f3d8ba4d983491b9ac.css" as="style">
<link href="/scss/main.min.6176d7d472a139a502a7c863de9bb7b87ef1ec9c271ff8f3d8ba4d983491b9ac.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.3.min.js"
  integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
  crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-00000000-0"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-00000000-0');
}
</script>
  </head>
  <body class="td-page td-blog">
    <header>
      <nav class="td-navbar navbar-dark js-navbar-scroll">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">x-windy</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link active" href="/blog/"><span>博客</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/docs/"><span>文档</span></a>
      </li>
      <li class="nav-item dropdown d-none d-lg-block">
        <div class="dropdown">
  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">中文</a>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="/en/">English</a></li>
    <li><a class="dropdown-item" href="/ja/">日本語</a></li>
    </ul>
</div></li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search">
  <div class="td-search__icon"></div>
  <input type="search" class="td-search__input form-control td-search-input" placeholder="站内搜索…" aria-label="站内搜索…" autocomplete="off">
</div>

  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <div class="td-search">
  <div class="td-search__icon"></div>
  <input type="search" class="td-search__input form-control td-search-input" placeholder="站内搜索…" aria-label="站内搜索…" autocomplete="off">
</div>

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <div class="td-sidebar-nav__section nav-item dropdown d-block d-lg-none">
      <div class="dropdown">
  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">中文</a>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="/en/">English</a></li>
    <li><a class="dropdown-item" href="/ja/">日本語</a></li>
    </ul>
</div>
    </div>
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-blog-li">
  <a href="/blog/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-blog"><span class="">博客</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-blogjava-li">
  <a href="/blog/java/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-blogjava"><span class="">Java</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog10101-li">
  <a href="/blog/1/01/01/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog10101"><span class=""></span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog10101-li">
  <a href="/blog/1/01/01/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog10101"><span class=""></span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-blog10101jwt-li">
  <a href="/blog/1/01/01/jwt/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id="m-blog10101jwt"><span class="td-sidebar-nav-active-item">JWT</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog10101restful-li">
  <a href="/blog/1/01/01/restful/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog10101restful"><span class="">RESTful</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog10101ruoyi-li">
  <a href="/blog/1/01/01/ruoyi/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog10101ruoyi"><span class="">ruoyi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog10101springsecurity-li">
  <a href="/blog/1/01/01/springsecurity/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog10101springsecurity"><span class="">SpringSecurity</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogpython-li">
  <a href="/blog/python/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-blogpython"><span class="">Python</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-blogspring-boot-li">
  <a href="/blog/spring-boot/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-blogspring-boot"><span class="">Spring boot</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog10101ssm-li">
  <a href="/blog/1/01/01/ssm/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog10101ssm"><span class="">SSM</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-bloge697a5e8afad-li">
  <a href="/blog/%E6%97%A5%E8%AF%AD/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-bloge697a5e8afad"><span class="">日语</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20230712spring-cloud-li">
  <a href="/blog/2023/07/12/spring-cloud/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog20230712spring-cloud"><span class="">Spring Cloud</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog10101docker-li">
  <a href="/blog/1/01/01/docker/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog10101docker"><span class="">Docker</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-bloghugo-li">
  <a href="/blog/hugo/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-bloghugo"><span class="">Hugo</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20230706e58786e5a487-li">
  <a href="/blog/2023/07/06/%E5%87%86%E5%A4%87/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog20230706e58786e5a487"><span class="">准备</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog10101redis-li">
  <a href="/blog/1/01/01/redis/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blog10101redis"><span class="">Redis</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ms-2 pb-1 pt-2 mb-0">
<a href="https://github.com/x-windy/x-windy.github.io/tree/main/content/zh-cn/blog/Java/jwt.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> 查看页面源码</a>
  <a href="https://github.com/x-windy/x-windy.github.io/edit/main/content/zh-cn/blog/Java/jwt.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> 编辑此页</a>
  <a href="https://github.com/x-windy/x-windy.github.io/new/main/content/zh-cn/blog/Java/jwt.md?filename=change-me.md&amp;value=---%0D%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0D%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0D%0Aweight%3A&#43;100%0D%0Adescription%3A&#43;%3E-%0D%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0D%0A---%0D%0A%0D%0A%23%23&#43;Heading%0D%0A%0D%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0D%0A%0D%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0D%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0D%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0D%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0D%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> 添加子页面</a>
  <a href="https://github.com/x-windy/x-windy.github.io/issues/new?title=JWT" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> 提交文档问题</a>
  <a href="https://github.com/x-windy/x-windy.github.io/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> 提交项目问题</a>
  <a id="print" href="https://x-windy.github.io/blog/java/_print/"><i class="fa-solid fa-print fa-fw"></i> 整节打印</a>

</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#什么是-json-web-token">什么是 JSON Web Token？</a></li>
    <li><a href="#何时应使用-json-web-token">何时应使用 JSON Web Token？</a></li>
    <li><a href="#json-web-token结构">JSON Web Token结构</a>
      <ul>
        <li><a href="#header-头">Header 头</a></li>
        <li><a href="#payload-有效载荷">Payload 有效载荷</a></li>
        <li><a href="#signature-签名">Signature 签名</a></li>
      </ul>
    </li>
    <li><a href="#jwt-token在线编码生成httpstoolttcomjwt-encode"><a href="https://tooltt.com/jwt-encode/">JWT Token在线编码生成</a></a>
      <ul>
        <li><a href="#完整json">完整JSON</a></li>
        <li><a href="#jwt">JWT</a></li>
      </ul>
    </li>
    <li><a href="#jwt特点">JWT特点</a>
      <ul>
        <li><a href="#无状态">无状态</a></li>
        <li><a href="#可自定义">可自定义</a></li>
        <li><a href="#扩展性强">扩展性强</a></li>
        <li><a href="#调试性好">调试性好</a></li>
        <li><a href="#安全性取决于密钥管理">安全性取决于密钥管理</a></li>
        <li><a href="#无法撤销">无法撤销</a></li>
        <li><a href="#需要缓存到客户端">需要缓存到客户端</a></li>
        <li><a href="#载荷大小由限制">载荷大小由限制</a></li>
      </ul>
    </li>
    <li><a href="#jwt的优缺点">JWT的优缺点</a>
      <ul>
        <li><a href="#优点">优点</a></li>
        <li><a href="#缺点">缺点</a></li>
      </ul>
    </li>
    <li><a href="#jwt应用场景">JWT应用场景</a>
      <ul>
        <li><a href="#一次性验证">一次性验证</a></li>
        <li><a href="#restful-api的无状态认证">RESTful API的无状态认证</a></li>
        <li><a href="#信息交换">信息交换</a></li>
        <li><a href="#jwt令牌登录">JWT令牌登录</a></li>
      </ul>
    </li>
    <li><a href="#jwt实战案例">JWT实战案例</a>
      <ul>
        <li><a href="#jwt工具类">JWT工具类</a></li>
        <li><a href="#邮件激活">邮件激活</a></li>
        <li><a href="#令牌登录">令牌登录</a></li>
      </ul>
    </li>
    <li><a href="#jwt指南">JWT指南</a>
      <ul>
        <li><a href="#redis校验实现令牌泄露保护">Redis校验实现令牌泄露保护</a></li>
        <li><a href="#临检jwt限制敏感操">临检JWT限制敏感操</a></li>
        <li><a href="#异常jwt监控超频识别与限制">异常JWT监控：超频识别与限制</a></li>
        <li><a href="#地域检查杜绝jwt泄露可能">地域检查杜绝JWT泄露可能</a></li>
        <li><a href="#客户端区分检查防止jwt泄露">客户端区分检查防止JWT泄露</a></li>
        <li><a href="#jwt令牌保护限时限数限频">JWT令牌保护：限时、限数、限频</a></li>
      </ul>
    </li>
    <li><a href="#面试题">面试题</a></li>
  </ul>
</nav>
      </div>
    
            <div class="taxonomy taxonomy-terms-cloud taxo-tags">
      <h5 class="taxonomy-title">标签云</h5>
      <ul class="taxonomy-terms">
        <li><a class="taxonomy-term" href="https://x-windy.github.io/tags/java/" data-taxonomy-term="java"><span class="taxonomy-label">Java</span><span class="taxonomy-count">2</span></a></li>
        </ul>
    </div>
  <div class="taxonomy taxonomy-terms-cloud taxo-categories">
      <h5 class="taxonomy-title">分类</h5>
      <ul class="taxonomy-terms">
        <li><a class="taxonomy-term" href="https://x-windy.github.io/categories/effective-java/" data-taxonomy-term="effective-java"><span class="taxonomy-label">Effective Java</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://x-windy.github.io/categories/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C/" data-taxonomy-term="%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C"><span class="taxonomy-label">阿里巴巴Java开发手册</span><span class="taxonomy-count">1</span></a></li>
        </ul>
    </div>
  
	
          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5 pe-md-4" role="main">
            <a class="td-rss-button" title="RSS" href="https://x-windy.github.io/blog/java/index.xml" target="_blank" rel="noopener">
              <i class="fa-solid fa-rss" aria-hidden="true"></i>
            </a>
            
<div class="td-content">
	<h1>JWT</h1>
	
	<div class="td-byline mb-4">
		作者: <b>XW</b> |
		<time datetime="0001-01-01" class="text-muted">0001-1-1 00:00:00 周一 下午</time>
	</div>
	<header class="article-meta">
		
  </header>
	<h1 id="jwtjson-web-token">JWT(JSON Web Token)</h1>
<blockquote>
<p><a href="https://jwt.io/">JSON Web Tokens - jwt.io</a></p>
<p>JWT是一种<strong>加密后的数据载体</strong>，可在各应用之间进行数据传输</p>
<p>Token(令牌)</p>
<p><strong>Token的目的是为了减轻服务器的压力，减少频繁的查询数据库，使服务器更加健壮。</strong></p>
</blockquote>
<h2 id="什么是-json-web-token">什么是 JSON Web Token？</h2>
<p>JSON Web Token（JWT） 是一种开放标准 （<a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>），它定义了一种紧凑且独立的方式，用于在各方之间以 <strong>JSON 对象</strong>的形式<strong>安全地</strong>传输信息。此信息可以验证和信任，因为它是经过<strong>数字签名</strong>的。JWT 可以使用密钥（使用 <strong>HMAC</strong> 算法）或使用 <strong>RSA</strong> 或 <strong>ECDSA</strong> 的公钥/私钥对进行签名。</p>
<blockquote>
<p>JWT涵盖用户身份信息，每次访问时，服务器校验信息合法性</p>
</blockquote>
<h2 id="何时应使用-json-web-token">何时应使用 JSON Web Token？</h2>
<p>以下是 JSON Web Token有用的一些方案：</p>
<ul>
<li><strong>授权</strong>：这是使用 JWT 的最常见方案。<strong>用户登录</strong>后，每个后续请求都将包含 JWT，允许用户访问使用该令牌允许的路由、服务和资源。单点登录是当今广泛使用 JWT 的一项功能，因为它的开销很小，并且能够跨不同域轻松使用。</li>
<li><strong>信息交换</strong>： JSON Web Token是在各方之间安全传输信息的好方法。由于 JWT 可以签名（例如，使用公钥/私钥对），因此您可以确定发件人是他们所说的人。此外，由于签名是使用标头和有效负载计算的，因此您还可以验证内容是否未被篡改。</li>
</ul>
<h2 id="json-web-token结构">JSON Web Token结构</h2>
<blockquote>
<p>一个JWT通常有HEADER(头)，PAYLOAD(有效载荷)和SIGNATURE(签名)三部分组成，之间通过<code>.</code>连接</p>
</blockquote>
<ul>
<li>Header	头(算法和令牌类型)</li>
<li>Payload   有效载荷(数据)</li>
<li>Signature 签名</li>
</ul>
<pre tabindex="0"><code>Header.Payload.Signature
xxxxx.yyyyy.zzzzz
</code></pre><p><strong>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9<code>.</code>eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ<code>.</code>SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</strong></p>
<h3 id="header-头">Header 头</h3>
<p>JWT的头部包含两部分的信息：</p>
<blockquote>
<ol>
<li>令牌的类型（即 <code>JWT</code>）</li>
<li>使用的加密算法，例如 <code>HMAC SHA256</code> (默认<code>HS256</code>)或 <code>RSA</code>。</li>
</ol>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;alg&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;HS256&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;typ&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;JWT&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p><code>alg</code>：表示签名的算法</p>
<p><code>typ</code>：标识令牌(token)的类型，JWT令牌统一写为<code>JWT</code></p>
<p>使用<code>Base64</code>加密后，构成JWT的第一部分<code>Header</code></p>
<pre tabindex="0"><code></code></pre><h3 id="payload-有效载荷">Payload 有效载荷</h3>
<blockquote>
<p>用于存放实际需要传递的有效信息</p>
</blockquote>
<p><strong>标准载荷</strong>：建议但不强制使用，对JWT信息作补充</p>
<table>
<thead>
<tr>
<th>标准载荷</th>
<th>介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td>iss(issuer)</td>
<td>jwt签发者</td>
</tr>
<tr>
<td>exp(expiration time)</td>
<td>过期时间，必须大于签发时间</td>
</tr>
<tr>
<td>sub(subject)</td>
<td>主题，用来做什么</td>
</tr>
<tr>
<td>aud(audience)</td>
<td>给谁用，接收jwt的一方</td>
</tr>
<tr>
<td>nbf(Not Before)</td>
<td>生效时间</td>
</tr>
<tr>
<td>jti(JWT ID)</td>
<td>JWT的唯一身份标识</td>
</tr>
</tbody>
</table>
<p>自定义载荷：一般添加用户的相关信息 或 其它业务需要的必要信息，不建议添加<strong>敏感信息</strong>(如用户密码)，该部分可在客户端解密</p>
<p><strong>受篡改保护，但任何人都可以读取</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;sub&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;alluser&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;iss&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;zq&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;user_info&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    	<span style="color:#204a87;font-weight:bold">&#34;id&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    	<span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;John Doe&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>         <span style="color:#204a87;font-weight:bold">&#34;admin&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>使用Base64加密后，构成JWT第二部分</p>
<pre tabindex="0"><code></code></pre><h3 id="signature-签名">Signature 签名</h3>
<blockquote>
<p>对<strong>前两部分Header、Payload进行签名</strong>，得到一个签名，防止数据篡改</p>
<p>需要指定一个<strong>密钥(secret)</strong>-256-bit，密钥只有服务器知道。(不能泄露)</p>
</blockquote>
<p>使用Header指定的 HMAC SHA256 算法签名：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">signature</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">HMACSHA256</span><span style="color:#ce5c00;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">base64UrlEncode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">header</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;.&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">base64UrlEncode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">payload</span><span style="color:#ce5c00;font-weight:bold">),</span><span style="color:#000">secret</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span></code></pre></div><p>使用Base64加密后，构成JWT的第三部分</p>
<h2 id="jwt-token在线编码生成httpstoolttcomjwt-encode"><a href="https://tooltt.com/jwt-encode/">JWT Token在线编码生成</a></h2>
<h3 id="完整json">完整JSON</h3>
<pre tabindex="0"><code>{
  &#34;header&#34;: {
    &#34;alg&#34;: &#34;HS256&#34;,
    &#34;typ&#34;: &#34;JWT&#34;
  },
  &#34;payload&#34;: {
    &#34;data&#34;: [
      {
        &#34;id&#34;: &#34;1&#34;
      },
      {
        &#34;name&#34;: &#34;zq&#34;
      },
      {
        &#34;age&#34;: &#34;20&#34;
      }
    ],
    &#34;iat&#34;: 1690988484,
    &#34;exp&#34;: 1691078398,
    &#34;aud&#34;: &#34;qz&#34;,
    &#34;iss&#34;: &#34;zq&#34;,
    &#34;sub&#34;: &#34;all&#34;
  }
}
</code></pre><h3 id="jwt">JWT</h3>
<pre tabindex="0"><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjpbeyJpZCI6IjEifSx7Im5hbWUiOiJ6cSJ9LHsiYWdlIjoiMjAifV0sImlhdCI6MTY5MDk4ODQ4NCwiZXhwIjoxNjkxMDc4Mzk4LCJhdWQiOiJxeiIsImlzcyI6InpxIiwic3ViIjoiYWxsIn0.abOPHo6ytyaCglKfXgiDPQkcFDdM90FpgX20ktvpBf4
</code></pre><h2 id="jwt特点">JWT特点</h2>
<h3 id="无状态">无状态</h3>
<p>JWT不需要再服务端存取任何状态，客户端而已携带JWT访问服务端，从而使服务端变得无状态，这样，服务端就可以轻松地实现<strong>扩展和负载均衡</strong>。(分布式多台服务器)，只需要校验，不需要存储</p>
<h3 id="可自定义">可自定义</h3>
<p>JWT的有效载荷部分可以自定义，可以存储任何JSON格式的数据。可实现自定义的功能，如用户喜好、配置信息等等。</p>
<h3 id="扩展性强">扩展性强</h3>
<p>JWT有一套标准规范，很容易再不同平台和语言之间共享和解析。开发人员还可以根据需要自定义声明(claims)来实现更加灵活的功能。</p>
<h3 id="调试性好">调试性好</h3>
<p>JWT内容以Base64编码后的字符串形式存在，非常容易进行调试和分析。</p>
<h3 id="安全性取决于密钥管理">安全性取决于密钥管理</h3>
<p>注意密钥的管理，包含生成、存储、更新、分发等等。</p>
<h3 id="无法撤销">无法撤销</h3>
<p>JWT是无状态的，一旦JWT被签发，就无法撤销(除非过期)。如果用户在使用JWT认证期间被注销或禁用，那么服务端就无法阻止该用户继续使用之前签发的JWT。</p>
<p>因此，开发人员需要设计额外的机制来<strong>撤销JWT</strong>，例如使用黑名单、白名单、<strong>加到缓存Redis</strong>(无状态-&gt;有状态) 或者 设置 短期有效期等</p>
<h3 id="需要缓存到客户端">需要缓存到客户端</h3>
<p>JWT包含用户信息和授权信息，需要客户端缓存到本地，意味着JWT有被窃取的风险</p>
<h3 id="载荷大小由限制">载荷大小由限制</h3>
<p>JWT需要传输到客户端，一般不建议超过<strong>1KB</strong>(10个kv对以内)，不然会影响性能</p>
<h2 id="jwt的优缺点">JWT的优缺点</h2>
<h3 id="优点">优点</h3>
<p>无状态性：不需要存储在服务器上，可以实现无状态的身份验证和授权(分布式)</p>
<p>可扩展性：载荷可自定义，可根据需要添加任意信息</p>
<p>可靠性：使用数字签名来保证安全性</p>
<p>平台性：支持多编程语言和操作系统</p>
<p>高效性：不需要查数据库</p>
<h3 id="缺点">缺点</h3>
<p>安全性取决于密钥管理</p>
<p>无法撤销令牌</p>
<p>需要传输到客户端</p>
<p>载荷大小限制</p>
<h2 id="jwt应用场景">JWT应用场景</h2>
<h3 id="一次性验证">一次性验证</h3>
<p>应用场景</p>
<blockquote>
<p>用户注册成功后，发送一份激活邮箱或者其它业务需要邮箱激活等操作。</p>
<p>用户注册账户（填写用户名、密码、邮箱）后，会发送一封邮件给用户的邮箱。邮件里面有个链接，用户点击后，邮箱就被验证了。用户如果没有进行验证的话，是不允许一些操作的，如发表文章（防止恶意注册用户）。</p>
</blockquote>
<p>原因：</p>
<p>时效性：让该链接具有时效性(2小时内激活)</p>
<p>不可篡改性：防止篡改以激活其它账户</p>
<p>邮箱注册</p>
<p><img src="jwt.assets/bV855x.png" alt="后端开发 - 用户邮箱验证实现思路 - 个人文章 - SegmentFault 思否"></p>
<h3 id="restful-api的无状态认证">RESTful API的无状态认证</h3>
<p>做RESTful api的身份凭证：当用户身份校验成功后，客户端每次接口访问都带上JWT，服务端校验JWT合法性(是否篡改/是否过期等)</p>
<h3 id="信息交换">信息交换</h3>
<p>项目间/服务间 之间安全传输信息的好方式，使用公钥（Public Key）与私钥（Private Key），可以确定发件人是他们自称的人。</p>
<blockquote>
<p>公钥（Public Key）与私钥（<a href="https://so.csdn.net/so/search?q=Private&amp;spm=1001.2101.3001.7020">Private</a> Key）是通过一种算法得到的一个密钥对（即一个公钥和一个私钥），<strong>公钥</strong>是密钥对中<strong>公开的部分</strong>，<strong>私钥</strong>则是<strong>非公开的部分</strong>。公钥通常用于<strong>加密会话密钥、验证数字签名，或加密可以用相应的私钥解密</strong>的数据。</p>
<p>公钥和私钥是成对出现的，我们会保留有自己的私钥，同时公开自己的公钥。一个很典型的例子是GitHub的使用。我们通常不会使用账号密码来管理自己的项目，而是通过将自己的<strong>公钥</strong>上传到GitHub的里，而自己的电脑里则保留有相对应的<strong>私钥</strong>，从而达到免密码提交代码。</p>
<p>当然私钥和公钥对是唯一的，而你也可以随时重新生成自己的公钥和私钥密码对，但当你从新生成密钥对并覆盖了就有的密钥时，你之前的公钥就作废了。</p>
<p>简单来说就是：
公钥加密，私钥解密，
私钥签名，公钥验证。</p>
<p><a href="https://blog.csdn.net/u010039377/article/details/79751124">公钥私钥加密和SHA256_sha256密钥_卖鱼的小白菜的博客-CSDN博客</a></p>
</blockquote>
<h3 id="jwt令牌登录">JWT令牌登录</h3>
<blockquote>
<p>JWT令牌存储在客户端，容易泄露并被伪造身份搞破环</p>
<p>JWT被签发，就无法撤销，当破坏在进行时，后端无法马上禁止</p>
</blockquote>
<p>可以通过监控异常JWT访问，设置黑名单+强制下线等方式避免</p>
<h2 id="jwt实战案例">JWT实战案例</h2>
<h3 id="jwt工具类">JWT工具类</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.zq.vaccinum.util</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.zq.vaccinum.constant.Constants</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.jsonwebtoken.Claims</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.jsonwebtoken.Jwts</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.jsonwebtoken.io.Decoders</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.jsonwebtoken.security.Keys</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Date</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Map</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"> * JwtToken工具类
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"> * @Author: zq
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"> * @Date: 2023/08/03/0:51
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"> * @Description:
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JwtTokenUtil</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * 生成token令牌
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param claims 数据声明(载荷信息)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @return  token
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#000">String</span> <span style="color:#000">createToken</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#000">Object</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">claims</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">String</span> <span style="color:#000">token</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Jwts</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">builder</span><span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic">// 使用默认头
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setClaims</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">claims</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">// 存放自定义载荷
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setExpiration</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">getExpirationDate</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#8f5902;font-style:italic">// 失效时间
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">signWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Keys</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hmacShaKeyFor</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Decoders</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">BASE64</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">decode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Constants</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">JWT_SECRET</span><span style="color:#ce5c00;font-weight:bold">)))</span> <span style="color:#8f5902;font-style:italic">// 签名
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">compact</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * 解析token中的数据声明(载荷信息)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param token 令牌
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @return  数据声明
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#000">Claims</span> <span style="color:#000">parseToken</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">Jwts</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">parserBuilder</span><span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setSigningKey</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Decoders</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">BASE64</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">decode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Constants</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">JWT_SECRET</span><span style="color:#ce5c00;font-weight:bold">))</span>    <span style="color:#8f5902;font-style:italic">// 签名
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">parseClaimsJws</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">)</span>  <span style="color:#8f5902;font-style:italic">// 接收的token令牌
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getBody</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * 生成Token失效截至时间
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#000">Date</span> <span style="color:#000">getExpirationDate</span><span style="color:#ce5c00;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// 当前系统时间+失效时间
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Date</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">currentTimeMillis</span><span style="color:#ce5c00;font-weight:bold">()+</span> <span style="color:#000">Constants</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">JWT_EXPIRATION</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * 从Token获取用户名
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param token
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#000">String</span> <span style="color:#000">getUsernameFromToken</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// parseToken()解析Token获取claims
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">parseToken</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">).</span><span style="color:#c4a000">getSubject</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * 判断token是否失效
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param token
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">isTokenExpired</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// 判断当前时间是否在时效截止时间内(截止时间是否在当前时间之前)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">getExpirationDate</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">before</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Date</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * 验证token是否有效(是否修改null,是否过期)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param token
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">validateToken</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">parseToken</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">)!=</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span><span style="color:#000">isTokenExpired</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * 刷新token
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param token
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#000">String</span> <span style="color:#000">refreshToken</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// 解析token
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">Claims</span> <span style="color:#000">claims</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">parseToken</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">token</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// 重置创建时间
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">claims</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Constants</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">JWT_CREATE_TIME</span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Date</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// 生成新的token
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">createToken</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">claims</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * 从载体信息中根据key拿值
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param claims  载体信息
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param key  键
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @return  值
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#000">String</span> <span style="color:#000">getValueByKey</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Claims</span> <span style="color:#000">claims</span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#000">String</span> <span style="color:#000">key</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">claims</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">key</span><span style="color:#ce5c00;font-weight:bold">)!=</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">?</span><span style="color:#000">claims</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">key</span><span style="color:#ce5c00;font-weight:bold">).</span><span style="color:#c4a000">toString</span><span style="color:#ce5c00;font-weight:bold">():</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="邮件激活">邮件激活</h3>
<ol>
<li>
<p>/regist注册接口，请求成功后，发送激活链接，链接参数为jwt</p>
</li>
<li>
<p>/active?jwt=激活，接收参数为jwt</p>
</li>
</ol>
<p><a href="https://jwt.io/libraries?language=Java">JSON Web Token Libraries - jwt.io</a></p>
<h3 id="令牌登录">令牌登录</h3>
<ol>
<li>/login登录成功后，返回JWT给客户端</li>
<li>设计<strong>登录检查拦截器</strong>，当访问<strong>其它接口资源</strong>时进行登录拦截</li>
</ol>
<h2 id="jwt指南">JWT指南</h2>
<h3 id="redis校验实现令牌泄露保护">Redis校验实现令牌泄露保护</h3>
<p>在<strong>Redis缓存一份</strong>，判定泄露后(每次进行)，移除Redis中的JWT，当接口再次被发起请求时，强制用户重新进行身份验证</p>
<h3 id="临检jwt限制敏感操">临检JWT限制敏感操</h3>
<blockquote>
<p>一些涉及敏感数据变动时，执行临检操作(不用Redis)。</p>
</blockquote>
<p>在涉及到：<strong>新增、修改、删除、上传、下载</strong>等敏感操作时(支付)，强制检查用户身份，如<strong>手机验证码、扫描二维码</strong>等手段，确认操作者是用户本人</p>
<h3 id="异常jwt监控超频识别与限制">异常JWT监控：超频识别与限制</h3>
<blockquote>
<p>当JWT令牌被盗取，一般会出现<strong>高频次的系统访问</strong>。</p>
</blockquote>
<p>监控用户端在单位时间内的请求次数，当单位时间内的请求<strong>超出预定阈值</strong>时，则判定该用户的JWT令牌异常。(限制访问、冻结、IP限制、封号)</p>
<h3 id="地域检查杜绝jwt泄露可能">地域检查杜绝JWT泄露可能</h3>
<blockquote>
<p>一般用户活动范围是固定的，意味着JWT客户端访问IP相对固定，JWT泄露后，可能会出现异地登录的情况。</p>
</blockquote>
<p>对JWT进行异地访问检查，有效时间内，IP频繁变动可判断JWT泄露。(账号异地登录，邮箱，手机提醒)</p>
<h3 id="客户端区分检查防止jwt泄露">客户端区分检查防止JWT泄露</h3>
<blockquote>
<p>对于APP产品来说，一般客户端是固定的，基本为移动设备(APP，平板)，可以结合设备机器码进行绑定。</p>
</blockquote>
<p>将<strong>JWT与机器码绑定</strong>，存储于服务端，当客户端发起请求时，通过检查客户端的机器码于服务端机器码是否匹配判断JWT是否泄露。(判断JWT可能被盗，机器码不匹配，重新登录)</p>
<h3 id="jwt令牌保护限时限数限频">JWT令牌保护：限时、限数、限频</h3>
<blockquote>
<p>进行泄露识别，做好泄露后补救保证系统安全</p>
</blockquote>
<p>对客户端进行合理限制，限制每个客户端的JWT令牌数量、访问频率、JWT令牌时效等，以降低JWT令牌泄露的风险。</p>
<h2 id="面试题">面试题</h2>
<blockquote>
<p>什么是JWT？解释一下它的结构</p>
</blockquote>
<p>JWT是一种<strong>开放标准</strong>，用于在网络上安全地传输信息。它由三部分组成：<strong>头部、载荷和签名</strong>。</p>
<p>头部包含令牌的元数据，载荷包含实际的信息(用户ID、角色等)，签名用于验证令牌是否被篡改</p>
<blockquote>
<p>JWT的优点是什么? 它与传统的session-based身份验证相比有什么优缺点?</p>
</blockquote>
<p>JWT的优点包括<strong>无状态、可扩展、跨语言、易于实现和良好的安全性</strong>。相比之下，传统的<code>session-based</code>身份验证需要在<strong>服务端维护会话状态</strong>，使得服务端的<strong>负载更高</strong>，并且不<strong>适用于分布式系统</strong>。</p>
<blockquote>
<p>在WT的结构中，分别有哪些部分? 每个部分的作用是什么?</p>
</blockquote>
<p>JWT的结构由三部分组成:头部、载荷和签名。头部包合令牌类型和算法，载荷包含实际的信息，签名由头部、载荷和密钥生成。</p>
<blockquote>
<p>JWT如何工作? 从开始到验证过程的完整流程是怎样的?</p>
</blockquote>
<p>JWT的工作流程分为三个步骤:<strong>生成令牌、发送令牌、验证令牌。</strong></p>
<p>在生成令牌时，服务端使用密钥对头部和载荷进行<strong>签名</strong>。</p>
<p>在发送令牌时，将令牌<strong>发送</strong>给客户端。</p>
<p>在验证令牌时，客户端从令牌中解析出<strong>头部和载荷</strong>，并使用<strong>相同的密钥验证签名</strong>。</p>
<blockquote>
<p>什么是JWT的签名? 为什么需要对]WT进行签名? 如何验证JWT的签名?</p>
</blockquote>
<p>JWT的签名是由<strong>头部、载荷和密钥</strong>生成的，用于验证令牌<strong>是否被算改</strong>。</p>
<p>签名使用<strong>HMAC算法</strong>或<strong>RSA算法</strong>生成。</p>
<p>在验证JWT的签名时，客户端使用相同的<strong>密钥和算法</strong>生成<strong>签名</strong>，并将生成的签名与令牌中的签名<strong>进行比较</strong>。</p>
<blockquote>
<p>什么是IWT的令牌刷新? 为什么需要这个功能?</p>
</blockquote>
<p>令牌刷新是一种<strong>机制</strong>，用于解决<strong>JWT过期</strong>后需要重新登录的问题。在令牌刷新中，服务端生成新的]WT，并将其发送给客户端。客户端使用新的WT替换旧的JWT，从而延长令牌的有效期。</p>
<blockquote>
<p>JWT是否加密?如果是，加密的部分是哪些? 如果不是，那么它如何保证数据安全性?</p>
</blockquote>
<p>JWT本身并不加密，但可以在载荷中包含敏感信息。为了保护这些信息，可以使用<code>]WE (SON Web Encryption)</code>对载荷进行加密。如果不加密，则需要在生成JWT时确保<strong>不在载荷中包含敏感信息</strong>。</p>
<blockquote>
<p>在JWT中，如何处理Token过期的问题? 有哪些方法可以处理?</p>
</blockquote>
<p>JWT过期后，客户端需要重新获取新的WT。可以通过在]WT中包含<strong>过期时间</strong>或使用<code>refresh token</code>等机制来解决过期问题。</p>
<blockquote>
<p>JWT和OAuth2有什么关系? 它们之间有什么区别?</p>
</blockquote>
<p><code>JWT</code>和<code>OAuth2</code>都是用于<strong>身份验证和授权</strong>的<strong>开放标准</strong>。JWT是一种<strong>身份验证机制</strong>，而OAuth2是一种<strong>授权机制</strong>。JWT用于在<strong>不同的系统中安全地传输信息</strong>，OAuth2用于<strong>授权第三方应用程序访问受保护的资源</strong>。</p>
<blockquote>
<p>JWT在什么场景下使用较为合适? 它的局限性是什么?</p>
</blockquote>
<p>JWT在<strong>单体应用或微服务架构</strong>中的使用比较合适。它的局限性包括<strong>无法撤销、令牌较大、无法处理并发</strong>等问题。</p>
<p>在需要针对每次请求进行<strong>访问控制</strong>或<strong>需要撤销令牌</strong>的情况下，JWT可能<strong>不是最佳选择</strong>。</p>
<p>场景应用：<strong>(邮箱激活、令牌登录)</strong></p>

	<ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5">
  <li>
    <a href="/blog/1/01/01/restful/" aria-label="上一页 - RESTful" class="btn btn-primary"><span class="me-1">←</span>上一页</a>
  </li>
  <li>
    <a href="/blog/1/01/01/" aria-label="下一页 - " class="btn btn-primary">下一页<span class="ms-1">→</span></a>
  </li>
</ul>

</div>


          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="User mailing list" aria-label="User mailing list">
    <a target="_blank" rel="noopener" href="https://example.org/mail" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Twitter" aria-label="Twitter">
    <a target="_blank" rel="noopener" href="https://example.org/twitter" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Stack Overflow" aria-label="Stack Overflow">
    <a target="_blank" rel="noopener" href="https://example.org/stack" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-end text-xs-center order-sm-3">
        
        
        
<ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/x-windy/" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Slack" aria-label="Slack">
    <a target="_blank" rel="noopener" href="https://example.org/slack" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Developer mailing list" aria-label="Developer mailing list">
    <a target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="td-footer__copyright-etc col-12 col-sm-4 text-center py-2 order-sm-2">
        <span>&copy; 2023 XW All Rights Reserved</span>
        
        
      </div>
    </div>
  </div>
  
<link rel="stylesheet" href='/shortcodes/plugins-live2d/css/index.css?v=1.0.1' />
<link rel="stylesheet" href='/shortcodes/plugins-live2d/css/waifu.min.css?v=1.0.1' />

<div class= "plugins-live2d-data" data-live2d_width="200" data-live2d_height="220" data-live2d_position="right:10" data-live2d_minwidth="400px"></div>

<script src='/shortcodes/plugins-live2d/js/index.js?v=1.0.1'></script>

</footer>
    </div>
    
  <script src="/js/main.min.9d4be27dd7b0e6c9b2948920085964b72679202e8e0439382ea6a68173e03576.js" integrity="sha256-nUvifdew5smylIkgCFlktyZ5IC6OBDk4LqamgXPgNXY=" crossorigin="anonymous"></script>
<script defer src="/js/click-to-copy.min.f724d3de49218995223b7316aa2e53e2b34bf42026bf399ebb21bb02212402d1.js" integrity="sha256-9yTT3kkhiZUiO3MWqi5T4rNL9CAmvzmeuyG7AiEkAtE=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>